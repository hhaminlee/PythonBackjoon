백준] 11286번: 절대값 힙 (Python)
안녕하세요! 이번에는 백준 11286번 '절대값 힙' 문제를 파이썬으로 함께 풀어보겠습니다. 우선순위 큐와 힙(Heap) 자료구조에 대한 이해를 돕는 아주 좋은 문제입니다.


📝 문제 요약
이 문제의 요구사항은 간단합니다.

0이 아닌 정수 x가 입력되면 배열에 추가합니다.

0이 입력되면 배열에서 절댓값이 가장 작은 값을 출력하고, 그 값을 배열에서 제거합니다.

만약 절댓값이 가장 작은 값이 여러 개라면, 그중에서 실제 값이 가장 작은 수를 출력하고 제거해야 합니다.

배열이 비어있는데 0이 입력되면 0을 출력합니다.

💡 풀이 핵심 아이디어
이 문제는 "절댓값이 가장 작은 값을 가장 먼저" 처리해야 하므로, **우선순위 큐(Priority Queue)**를 사용하는 것이 가장 효율적입니다. 파이썬에서는 우선순위 큐를 heapq 모듈 (최소 힙)을 통해 구현할 수 있습니다.

문제의 핵심은 두 가지 우선순위 조건을 처리하는 것입니다.

첫 번째 조건: 절댓값이 작을수록 우선순위가 높다.

두 번째 조건: 절댓값이 같다면, 실제 값이 작을수록 우선순위가 높다.

이 두 가지 조건을 heapq (최소 힙)에서 어떻게 구현할 수 있을까요?

바로 튜플(Tuple) 자료형을 활용하는 것입니다! 파이썬의 최소 힙은 튜플을 원소로 넣으면, 튜플의 첫 번째 원소를 기준으로 최소 힙을 구성합니다. 만약 첫 번째 원소가 같다면, 그 다음 두 번째 원소를 기준으로 정렬합니다.

따라서 힙에 값을 추가할 때 (절댓값, 원본값) 형태의 튜플로 넣어주면, 우리가 원하는 두 가지 우선순위 조건을 완벽하게 만족시킬 수 있습니다.

heapq.heappush(heap, (abs(x), x))

힙은 먼저 abs(x)가 가장 작은 원소를 루트에 위치시킵니다.

만약 abs(x) 값이 같은 원소가 여러 개 있다면, x (원본값)가 가장 작은 원소를 우선으로 선택합니다.

이렇게 하면 복잡한 조건문 없이도 heapq가 알아서 문제의 조건에 맞게 정렬해줍니다. 👍

📊 복잡도 분석
시간 복잡도: O(NlogN)

총 N개의 연산이 주어집니다.

힙에 원소를 추가하는 heappush 연산은 $O(\log k)$의 시간이 걸립니다 (k는 현재 힙의 크기).

힙에서 원소를 제거하는 heappop 연산 역시 $O(\log k)$의 시간이 걸립니다.

N개의 연산을 처리하는 동안 힙의 크기는 최대 N까지 커질 수 있으므로, 총 시간 복잡도는 $O(N \log N)$이 됩니다.

공간 복잡도: O(N)

입력받은 숫자를 저장할 힙(heap)이 필요합니다.

최악의 경우, 0이 한 번도 입력되지 않아 N개의 모든 숫자를 힙에 저장해야 할 수 있으므로 $O(N)$의 공간이 필요합니다.

🐍 파이썬 전체 코드
Python

import sys
import heapq

# 빠른 입력을 위해 sys.stdin.readline 사용
input = sys.stdin.readline

# 연산의 개수 N 입력
n = int(input())
# 최소 힙으로 사용할 리스트 선언
heap = []

for _ in range(n):
    x = int(input())
    
    # x가 0이 아니면 힙에 원소 추가
    if x != 0:
        # (절댓값, 원본값) 튜플 형태로 힙에 추가
        heapq.heappush(heap, (abs(x), x))
    
    # x가 0이면 힙에서 원소 출력 및 제거
    else:
        # 힙이 비어있지 않다면
        if heap:
            # heappop을 통해 가장 우선순위가 높은 원소의 튜플을 꺼냄
            # 튜플의 두 번째 원소인 원본값을 출력
            print(heapq.heappop(heap)[1])
        # 힙이 비어있다면
        else:
            print(0)
문제 링크
https://www.acmicpc.net/problem/11286

